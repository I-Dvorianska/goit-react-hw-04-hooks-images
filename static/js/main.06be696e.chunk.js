(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(9),r=n.n(o),i=(n(15),n(7)),s=n(3),u=(n(16),n(10)),l=n.n(u),j=(n(37),n(1));var b=function(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(s.a)(n,2),o=a[0],r=a[1];return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(o)},children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{onChange:function(e){r(e.currentTarget.value.trim())},className:"SearchForm-input",type:"text",value:o,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},m=(n(39),n(40),n(41),function(e){var t=e.id,n=e.webformatURL,c=e.selectImage,a=e.largeImageURL;return Object(j.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return c(a)},children:Object(j.jsx)("img",{src:n,alt:"",className:"ImageGalleryItem-image"})},t)}),d=function(e){var t=e.images,n=e.selected;return Object(j.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(j.jsx)(m,{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,selectImage:n},e.id)}))})},f=(n(42),function(e){var t=e.page,n=e.onLoad;return Object(j.jsx)("button",{type:"button",className:"Button",onClick:function(){!function(e,t){t(e+1)}(t,n)},children:"Load more"})});n(43);var h=function(e){var t=e.onCloseModal,n=e.children,a=function e(n){"Escape"===n.code&&(t(),window.removeEventListener("keydown",e))};return Object(c.useEffect)((function(){window.addEventListener("keydown",a)})),Object(j.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(j.jsx)("div",{className:"Modal",children:n})})},g=n(8);var O=function(e,t){return fetch("".concat("https://pixabay.com/api","/?q=").concat(e,"&page=").concat(t,"&key=").concat("22634549-5cdc48e9fdfcb009c2ce01724","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041c\u044b \u043d\u0435 \u043d\u0430\u0448\u043b\u0438 \u0442\u0430\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(e)))}))};var p=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)([]),r=Object(s.a)(o,2),u=r[0],m=r[1],p=Object(c.useState)(1),x=Object(s.a)(p,2),v=x[0],S=x[1],w=Object(c.useState)(!1),y=Object(s.a)(w,2),L=y[0],N=y[1],k=Object(c.useState)(null),I=Object(s.a)(k,2),C=I[0],E=I[1],F=Object(c.useState)(!1),R=Object(s.a)(F,2),U=R[0],M=R[1];Object(c.useEffect)((function(){N(!0),n&&O(n,v).then((function(e){var t=e.hits;if(0===t.length)return B();12===t.length&&(m((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})),N(!1),M(!0),t.length<12&&M(!1)),v>1&&T()}))}),[v,n]);var T=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},B=function(){return Object(g.b)("Here is no images to show")},G=u.length>0&&!L&&U;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{onSubmit:function(e){m([]),S(1),a(e)}}),Object(j.jsx)(g.a,{containerStyle:{top:300,left:0},toastOptions:{duration:2e3,style:{border:"2px solid #e60000",padding:"8px",color:"#e60000"}}}),u.length>0&&Object(j.jsx)(d,{images:u,selected:function(e){E(e)}}),L&&Object(j.jsx)("div",{className:"LoaderDiv",children:Object(j.jsx)(l.a,{type:"Circles",color:"#46c5f0",height:40,width:60,style:{marginLeft:"610px",marginTop:"20px",marginBottom:"20px"},timeout:1e3})}),null!==C&&Object(j.jsx)(h,{onCloseModal:function(e){E(null)},children:Object(j.jsx)("img",{src:C,alt:""})}),G&&Object(j.jsx)(f,{page:v,onLoad:function(e){S(e)}})]})};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(p,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.06be696e.chunk.js.map